# QuickUnzip 3.0 - 新增冷门功能 🎉

## 版本更新：v3.0.0

### 🆕 全新"工具箱"标签页

专为高级用户设计的小众但实用的专业工具！

---

## 🔮 新增四大冷门功能

### 1. 📝 文件名乱码修复器

**解决痛点：** Windows 创建的 ZIP 在 Mac/iOS 上显示中文乱码

**功能特性：**
- 自动检测 GBK/GB18030 编码
- 批量修复文件名乱码
- 转换为 UTF-8 标准编码
- 预览修复前后对比
- 生成新的修复版压缩包

**使用场景：**
- 从 Windows 传来的 ZIP 文件
- 含有中文文件名的压缩包
- 跨平台文件传输

**技术实现：**
- 直接解析 ZIP 文件结构
- 智能检测编码类型
- 保持文件完整性
- 支持复杂目录结构

---

### 2. 🧹 压缩包瘦身工具

**解决痛点：** 压缩包中充斥着系统垃圾文件

**功能特性：**
- 自动识别垃圾文件（.DS_Store, Thumbs.db, __MACOSX 等）
- 统计可节省空间
- 显示垃圾文件详情
- 可选删除空文件夹
- 生成干净的新压缩包

**支持清理的文件类型：**
```
✓ __MACOSX/         - macOS 资源文件
✓ .DS_Store         - macOS 文件夹设置
✓ Thumbs.db         - Windows 缩略图
✓ desktop.ini       - Windows 设置
✓ ._*               - macOS AppleDouble
✓ ~$*               - Office 临时文件
✓ .tmp, .bak        - 临时和备份文件
✓ .Spotlight-V100   - macOS Spotlight
✓ .Trashes          - macOS 垃圾箱
```

**使用场景：**
- 从 Mac 分享给他人的压缩包
- 减小压缩包体积
- 清理不必要的系统文件
- 专业文件分发

---

### 3. 📊 压缩率分析器

**解决痛点：** 不知道哪些文件适合压缩，压缩效果如何

**功能特性：**
- 整体压缩统计（文件数、原始大小、压缩后、节省空间）
- 文件类型分布分析
- 每个文件的压缩率
- 压缩效果排行榜
- 最佳/最差压缩文件对比
- 压缩效率评级（极佳/良好/一般/较低/无压缩）

**分析指标：**
- **压缩率：** 显示实际压缩百分比
- **空间节省：** 具体节省的字节数
- **文件类型统计：** 各类文件的压缩效果
- **效率评级：** 根据压缩率自动评级

**支持的文件类型识别：**
```
📷 图片 (jpg, png, gif, heic...)
🎬 视频 (mp4, mov, avi...)
🎵 音频 (mp3, wav, aac...)
📄 文本 (txt, md, json...)
📕 PDF
📝 文档 (doc, xls, ppt...)
💻 代码 (swift, java, py...)
🌐 网页 (html, css, js...)
```

**使用场景：**
- 了解压缩效果
- 选择最佳压缩格式
- 优化存储策略
- 数据可视化分析

---

### 4. 📱 二维码分享

**解决痛点：** 快速分享压缩包信息，无需传输文件

**功能特性：**
- 生成包含压缩包信息的二维码
- 支持两种样式：
  - **基本信息二维码：** 纯黑白 QR 码
  - **精美分享图：** 带渐变背景的精美图片
- 可选包含密码
- 保存到相册
- 直接分享

**二维码包含信息：**
```
📦 压缩包信息
━━━━━━━━━━━━━━
📝 文件名: example.zip
📊 格式: ZIP
💾 大小: 15.6 MB
🔐 密码: ******（可选）
━━━━━━━━━━━━━━
⚡ QuickUnzip 生成
```

**使用场景：**
- 快速展示文件信息
- 分享压缩包密码
- 会议/演示使用
- 社交媒体分享

---

## 🎨 界面设计

### 工具箱主界面
- 2x2 网格布局
- 每个工具独立卡片
- 渐变色图标
- 清晰的功能说明

### 统一设计语言
- 每个工具有独特主题色
  - 🟣 乱码修复：紫色系
  - 🔵 瘦身工具：青色系
  - 🩷 压缩分析：粉色系
  - 💙 二维码：蓝色系
- 流畅的动画过渡
- 毛玻璃模糊效果
- 阴影和圆角统一

---

## 🛠 技术实现

### 编码修复
```swift
// 智能检测编码
EncodingFixer.detectEncodingIssues(zipURL:)

// 转换编码
EncodingFixer.fixEncoding(zipURL:to:fromEncoding:toEncoding:)
```

### 压缩包清理
```swift
// 分析垃圾文件
ArchiveCleaner.analyzeJunkFiles(zipURL:)

// 清理压缩包
ArchiveCleaner.cleanArchive(zipURL:to:removeEmptyFolders:)
```

### 压缩率分析
```swift
// 分析压缩包
CompressionAnalyzer.analyze(archiveURL:)

// 返回详细报告
CompressionReport(
    totalFiles,
    totalUncompressed,
    totalCompressed,
    fileStats,
    typeStats,
    bestCompressedFile,
    worstCompressedFile
)
```

### 二维码生成
```swift
// 生成基本二维码
QRCodeGenerator.generateArchiveInfoQR(archiveURL:password:)

// 生成精美分享图
QRCodeGenerator.createShareableImage(archiveURL:password:)
```

---

## 📦 文件结构

```
QuickUnzip/
├── Services/
│   ├── EncodingFixer.swift          # 编码修复服务
│   ├── ArchiveCleaner.swift         # 清理服务
│   ├── CompressionAnalyzer.swift    # 压缩分析服务
│   └── QRCodeGenerator.swift        # 二维码生成服务
│
└── Views/
    ├── ToolsView.swift               # 工具箱主页
    └── Tools/
        ├── EncodingFixerView.swift   # 编码修复视图
        ├── CleanerView.swift         # 清理工具视图
        ├── AnalyzerView.swift        # 分析器视图
        └── QRCodeView.swift          # 二维码视图
```

---

## 🚀 使用指南

### 1. 文件名乱码修复
1. 打开"工具"标签页
2. 点击"乱码修复"
3. 选择有乱码的 ZIP 文件
4. 点击"检测乱码"
5. 查看检测结果
6. 点击"立即修复"
7. 生成 `*_fixed.zip` 文件

### 2. 压缩包瘦身
1. 打开"工具"标签页
2. 点击"压缩包瘦身"
3. 选择需要清理的 ZIP
4. 点击"扫描垃圾"
5. 查看垃圾文件列表和可节省空间
6. 可选"删除空文件夹"
7. 点击"开始清理"
8. 生成 `*_cleaned.zip` 文件

### 3. 压缩率分析
1. 打开"工具"标签页
2. 点击"压缩率分析"
3. 选择要分析的 ZIP
4. 点击"开始分析"
5. 查看：
   - 整体统计
   - 文件类型分布
   - 最佳/最差压缩对比
   - 文件压缩排行

### 4. 二维码分享
1. 打开"工具"标签页
2. 点击"二维码分享"
3. 选择压缩包
4. 选择样式（基本/精美）
5. 可选添加密码
6. 点击"生成二维码"
7. 保存或分享图片

---

## 🎯 目标用户

### 适合人群
- 🔧 需要跨平台传输文件的用户
- 📦 经常处理大量压缩包的专业人士
- 🎨 追求完美、注重细节的用户
- 💡 喜欢探索新功能的极客

### 不适合场景
- 简单的解压需求（用主页即可）
- 不关心文件细节
- 只需要基础功能

---

## 🔍 FAQ

**Q: 这些功能为什么叫"冷门"？**
A: 因为大多数解压软件不提供这些功能，但对特定用户非常实用。

**Q: 只支持 ZIP 格式吗？**
A: 目前编码修复、瘦身、分析功能只支持 ZIP。二维码支持所有格式。

**Q: 会修改原文件吗？**
A: 不会！所有工具都会生成新文件，原文件保持不变。

**Q: 生成的文件在哪里？**
A: 在"解压"页面的压缩包列表中可以找到生成的新文件。

**Q: 为什么我的压缩包没有垃圾文件？**
A: 说明你的压缩包很干净，无需清理 👍

---

## 🎨 设计理念

> "小众但强大，简单但专业"

这些功能虽然不是每个人都需要，但遇到问题时能解决大麻烦。我们追求：

- ✨ **极简主义：** 每个工具只做一件事，但做到极致
- 🎯 **专业导向：** 面向有特定需求的专业用户
- 🚀 **效率优先：** 快速解决问题，不拖泥带水
- 🎨 **美学追求：** 即使是工具页面也要赏心悦目

---

## 🙏 致谢

感谢 Claude Code 的强大能力，让这些小众功能得以快速实现！

---

## 📝 更新日志

### v3.0.0 (2024)
- ✨ 新增工具箱标签页
- 📝 新增文件名乱码修复器
- 🧹 新增压缩包瘦身工具
- 📊 新增压缩率分析器
- 📱 新增二维码分享功能
- 🎨 优化整体 UI 设计
- 🐛 修复已知问题

---

## 🔜 未来计划

考虑中的其他冷门功能：
- 🔧 压缩包修复工具
- 🔄 格式转换器 (ZIP ↔ 7Z)
- 📏 分卷压缩支持
- 🎭 压缩包合并器
- ⏱ 时间戳保护器
- 🔐 批量加密/解密

---

**QuickUnzip 3.0 - 不只是解压，更是专业工具！** 🚀
